

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/hf-pcal95555-driver/development/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/hf-pcal95555-driver/development/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    
    .site-nav > ul.nav-list:first-child > li:not(:nth-child(3)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(3) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/hf-pcal95555-driver/development/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/hf-pcal95555-driver/development/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PCAL95555 Comprehensive Test Suite Documentation | HardFOC PCAL95555 Driver - development</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="PCAL95555 Comprehensive Test Suite Documentation" />
<meta name="author" content="N3b3x" />
<meta property="og:locale" content="en" />
<meta name="description" content="Hardware-agnostic C++ driver for the NXP PCAL9555A GPIO expander with 16 general-purpose I/O pins, supporting interrupts, drive strength control, and internal pull-up/pull-down resistors" />
<meta property="og:description" content="Hardware-agnostic C++ driver for the NXP PCAL9555A GPIO expander with 16 general-purpose I/O pins, supporting interrupts, drive strength control, and internal pull-up/pull-down resistors" />
<link rel="canonical" href="https://n3b3x.github.io/hf-pcal95555-driver/development/examples/esp32/docs/comprehensive_test.html" />
<meta property="og:url" content="https://n3b3x.github.io/hf-pcal95555-driver/development/examples/esp32/docs/comprehensive_test.html" />
<meta property="og:site_name" content="HardFOC PCAL95555 Driver - development" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PCAL95555 Comprehensive Test Suite Documentation" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"N3b3x","url":"https://github.com/n3b3x"},"description":"Hardware-agnostic C++ driver for the NXP PCAL9555A GPIO expander with 16 general-purpose I/O pins, supporting interrupts, drive strength control, and internal pull-up/pull-down resistors","headline":"PCAL95555 Comprehensive Test Suite Documentation","url":"https://n3b3x.github.io/hf-pcal95555-driver/development/examples/esp32/docs/comprehensive_test.html"}</script>
<!-- End Jekyll SEO tag -->


  <!-- =============================================================================
     Custom Head Content for HardFOC Driver Documentation
     =============================================================================
     This file is included in the <head> section of every page.
     It loads custom CSS and JavaScript for enhanced functionality.
     ============================================================================= -->

<!-- Custom CSS for enhanced styling and fixes -->
<link rel="stylesheet" href="/hf-pcal95555-driver/development/assets/css/custom.css">

<!-- Custom JavaScript for interactive features -->
<script src="/hf-pcal95555-driver/development/assets/js/custom.js" defer></script>



</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <header class="side-bar">
  <div class="site-header">
    <a href="/hf-pcal95555-driver/development/" class="site-title lh-tight">
  HardFOC PCAL95555 Driver - development

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Menu" aria-expanded="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="HardFOC PCAL95555 Driver submenu" aria-expanded="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-pcal95555-driver/development/" class="nav-list-link">HardFOC PCAL95555 Driver</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="üìö Documentation submenu" aria-expanded="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/hf-pcal95555-driver/development/docs/" class="nav-list-link">üìö Documentation</a><ul class="nav-list"><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/installation/" class="nav-list-link">üõ†Ô∏è Installation</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/quickstart/" class="nav-list-link">‚ö° Quick Start</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/hardware_setup/" class="nav-list-link">üîå Hardware Setup</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/platform_integration/" class="nav-list-link">üîß Platform Integration</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/cmake_integration/" class="nav-list-link">‚öôÔ∏è CMake Integration</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/configuration/" class="nav-list-link">‚öôÔ∏è Configuration</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/api_reference/" class="nav-list-link">üìñ API Reference</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/examples/" class="nav-list-link">üí° Examples</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/docs/troubleshooting/" class="nav-list-link">üêõ Troubleshooting</a></li></ul></li></ul></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/examples/esp32/" class="nav-list-link">PCA9555 / PCAL9555A ESP32-S3 Examples</a></li><li class="nav-list-item"><a href="/hf-pcal95555-driver/development/examples/esp32/docs/comprehensive_test.html" class="nav-list-link">PCAL95555 Comprehensive Test Suite Documentation</a></li></ul>
  
</nav>


<div class="d-md-block d-none site-footer">
  
  
    This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
  
  </div>
</header>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search HardFOC PCAL95555 Driver - development" autocomplete="off">
    <label for="search-input" class="search-label">
      <span class="sr-only">Search HardFOC PCAL95555 Driver - development</span>
      <svg viewBox="0 0 24 24" class="search-icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
    </label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="/hf-pcal95555-driver/development/api/index.html" class="site-button"
          
        >
          üìñ API Reference
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-pcal95555-driver" class="site-button"
          
        >
          üìö GitHub Repository
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-pcal95555-driver/issues" class="site-button"
          
        >
          üêõ Report Issues
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/n3b3x/hf-pcal95555-driver/stargazers" class="site-button"
          
        >
          ‚≠ê Star on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      
      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="pcal95555-comprehensive-test-suite-documentation">
  
  
    <a href="#pcal95555-comprehensive-test-suite-documentation" class="anchor-heading" aria-labelledby="pcal95555-comprehensive-test-suite-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PCAL95555 Comprehensive Test Suite Documentation
  
  
</h1>
    
<h2 id="overview">
  
  
    <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview
  
  
</h2>
    

<p>The comprehensive test suite (<code class="language-plaintext highlighter-rouge">pcal95555_comprehensive_test</code>) validates <strong>all 43 public
API methods</strong> of the PCAL95555 driver across <strong>20 test sections</strong>. It supports both the
standard <strong>PCA9555</strong> and the enhanced <strong>PCAL9555A</strong> ‚Äì the chip variant is auto-detected
during initialization, and PCAL9555A-only tests are automatically <strong>skipped</strong> (not failed)
when a standard PCA9555 is detected.</p>
<h2 id="test-configuration">
  
  
    <a href="#test-configuration" class="anchor-heading" aria-labelledby="test-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Configuration
  
  
</h2>
    
<h3 id="hardware-target">
  
  
    <a href="#hardware-target" class="anchor-heading" aria-labelledby="hardware-target"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware Target
  
  
</h3>
    
<ul>
  <li><strong>MCU</strong>: ESP32-S3</li>
  <li><strong>I2C Frequency</strong>: 400 kHz</li>
  <li><strong>Default I2C Address</strong>: 0x20 (A2=LOW, A1=LOW, A0=LOW)</li>
</ul>
<h3 id="pin-configuration">
  
  
    <a href="#pin-configuration" class="anchor-heading" aria-labelledby="pin-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pin Configuration
  
  
</h3>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Signal</th>
      <th>ESP32-S3 GPIO</th>
      <th>Chip Pin</th>
      <th>Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SDA</td>
      <td>GPIO4</td>
      <td>SDA</td>
      <td>I2C Data Line</td>
    </tr>
    <tr>
      <td>SCL</td>
      <td>GPIO5</td>
      <td>SCL</td>
      <td>I2C Clock Line</td>
    </tr>
    <tr>
      <td>INT</td>
      <td>GPIO7</td>
      <td>INT</td>
      <td>Interrupt Output (open-drain)</td>
    </tr>
    <tr>
      <td>A0</td>
      <td>GPIO45</td>
      <td>A0</td>
      <td>Address Bit 0 (controlled by MCU)</td>
    </tr>
    <tr>
      <td>A1</td>
      <td>GPIO48</td>
      <td>A1</td>
      <td>Address Bit 1 (controlled by MCU)</td>
    </tr>
    <tr>
      <td>A2</td>
      <td>GPIO47</td>
      <td>A2</td>
      <td>Address Bit 2 (controlled by MCU)</td>
    </tr>
    <tr>
      <td>Test Indicator</td>
      <td>GPIO14</td>
      <td>-</td>
      <td>Visual test progress indicator</td>
    </tr>
  </tbody>
</table></div>
<h3 id="address-pin-control">
  
  
    <a href="#address-pin-control" class="anchor-heading" aria-labelledby="address-pin-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Address Pin Control
  
  
</h3>
    

<p>The test suite uses GPIO-controlled address pins, allowing dynamic address configuration:</p>
<ul>
  <li><strong>A0</strong>: Controlled via GPIO45</li>
  <li><strong>A1</strong>: Controlled via GPIO48</li>
  <li><strong>A2</strong>: Controlled via GPIO47</li>
</ul>

<p>The driver automatically sets these pins during initialization.</p><hr />
<h2 id="chip-variant-handling">
  
  
    <a href="#chip-variant-handling" class="anchor-heading" aria-labelledby="chip-variant-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Chip Variant Handling
  
  
</h2>
    

<p>During the ‚ÄúDriver Init‚Äù test, the driver performs a 3-step sandwich detection:</p>

<ol>
  <li>Read <code class="language-plaintext highlighter-rouge">INPUT_PORT_0</code> (0x00) to verify bus health</li>
  <li>Probe <code class="language-plaintext highlighter-rouge">OUTPUT_CONF</code> (0x4F) for Agile I/O support</li>
  <li>Read <code class="language-plaintext highlighter-rouge">INPUT_PORT_0</code> (0x00) again to confirm bus recovery</li>
</ol>

<p>The detected variant is logged:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Detected chip variant: PCA9555 (standard)
Agile I/O support: NO
</pre></td></tr></tbody></table></div></code></pre></div></div>
<p>or</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Detected chip variant: PCAL9555A (Agile I/O)
Agile I/O support: YES
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p>Tests requiring PCAL9555A log a skip message:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>Skipping: Pull resistor config requires PCAL9555A (detected PCA9555)
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="test-sections">
  
  
    <a href="#test-sections" class="anchor-heading" aria-labelledby="test-sections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Sections
  
  
</h2>
    
<h3 id="1-initialization-tests">
  
  
    <a href="#1-initialization-tests" class="anchor-heading" aria-labelledby="1-initialization-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Initialization Tests
  
  
</h3>
    
<h4 id="test_i2c_bus_initialization">
  
  
    <a href="#test_i2c_bus_initialization" class="anchor-heading" aria-labelledby="test_i2c_bus_initialization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_i2c_bus_initialization()</code>
  
  
</h4>
    
<p><strong>Purpose</strong>: Validates I2C bus setup and configuration.</p>

<p><strong>What it tests</strong>:</p>
<ul>
  <li>I2C master bus creation</li>
  <li>GPIO pin configuration for SDA/SCL</li>
  <li>Address pin GPIO configuration (A0, A1, A2)</li>
</ul>

<p><strong>Expected Result</strong>: I2C bus successfully initialized with all pins configured.</p>
<h4 id="test_driver_initialization">
  
  
    <a href="#test_driver_initialization" class="anchor-heading" aria-labelledby="test_driver_initialization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_driver_initialization()</code>
  
  
</h4>
    
<p><strong>Purpose</strong>: Validates driver initialization, chip variant detection, and default state.</p>

<p><strong>What it tests</strong>:</p>
<ul>
  <li>Driver instance creation (address pin constructor)</li>
  <li>I2C communication verification</li>
  <li>Chip variant auto-detection (PCA9555 vs PCAL9555A)</li>
  <li><code class="language-plaintext highlighter-rouge">HasAgileIO()</code> and <code class="language-plaintext highlighter-rouge">GetChipVariant()</code> queries</li>
  <li>Reset to default state</li>
  <li>Error flag checking and clearing</li>
</ul>

<p><strong>Expected Result</strong>: Driver initialized, chip variant detected and logged.</p><hr />
<h3 id="2-gpio-direction-tests">
  
  
    <a href="#2-gpio-direction-tests" class="anchor-heading" aria-labelledby="2-gpio-direction-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. GPIO Direction Tests
  
  
</h3>
    
<h4 id="test_single_pin_direction">
  
  
    <a href="#test_single_pin_direction" class="anchor-heading" aria-labelledby="test_single_pin_direction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_single_pin_direction()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetPinDirection()</code> for each pin (0-15), input and output modes.</p>
<h4 id="test_multiple_pin_direction">
  
  
    <a href="#test_multiple_pin_direction" class="anchor-heading" aria-labelledby="test_multiple_pin_direction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_multiple_pin_direction()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetMultipleDirections()</code> using 16-bit mask for port-level direction control.</p><hr />
<h3 id="3-gpio-readwrite-tests">
  
  
    <a href="#3-gpio-readwrite-tests" class="anchor-heading" aria-labelledby="3-gpio-readwrite-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. GPIO Read/Write Tests
  
  
</h3>
    
<h4 id="test_pin_write">
  
  
    <a href="#test_pin_write" class="anchor-heading" aria-labelledby="test_pin_write"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_pin_write()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">WritePin()</code> ‚Äì writing HIGH and LOW to individual pins.</p>
<h4 id="test_pin_read">
  
  
    <a href="#test_pin_read" class="anchor-heading" aria-labelledby="test_pin_read"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_pin_read()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">ReadPin()</code> ‚Äì reading all 16 pins sequentially.</p>
<h4 id="test_pin_toggle">
  
  
    <a href="#test_pin_toggle" class="anchor-heading" aria-labelledby="test_pin_toggle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_pin_toggle()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">TogglePin()</code> ‚Äì toggling pin state multiple times with verification.</p><hr />
<h3 id="4-pull-resistor-tests-pcal9555a-only">
  
  
    <a href="#4-pull-resistor-tests-pcal9555a-only" class="anchor-heading" aria-labelledby="4-pull-resistor-tests-pcal9555a-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Pull Resistor Tests (PCAL9555A only)
  
  
</h3>
    
<h4 id="test_pull_resistor_config">
  
  
    <a href="#test_pull_resistor_config" class="anchor-heading" aria-labelledby="test_pull_resistor_config"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_pull_resistor_config()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetPullEnable()</code>, <code class="language-plaintext highlighter-rouge">SetPullDirection()</code> ‚Äì per-pin pull-up/pull-down configuration.</p>

<p><strong>Auto-skip</strong>: Returns <code class="language-plaintext highlighter-rouge">true</code> with skip message on PCA9555.</p><hr />
<h3 id="5-drive-strength-tests-pcal9555a-only">
  
  
    <a href="#5-drive-strength-tests-pcal9555a-only" class="anchor-heading" aria-labelledby="5-drive-strength-tests-pcal9555a-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Drive Strength Tests (PCAL9555A only)
  
  
</h3>
    
<h4 id="test_drive_strength">
  
  
    <a href="#test_drive_strength" class="anchor-heading" aria-labelledby="test_drive_strength"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_drive_strength()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetDriveStrength()</code> ‚Äì all 4 levels (Level0-Level3) on individual pins.</p>

<p><strong>Auto-skip</strong>: Returns <code class="language-plaintext highlighter-rouge">true</code> with skip message on PCA9555.</p><hr />
<h3 id="6-output-mode-tests-pcal9555a-only">
  
  
    <a href="#6-output-mode-tests-pcal9555a-only" class="anchor-heading" aria-labelledby="6-output-mode-tests-pcal9555a-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. Output Mode Tests (PCAL9555A only)
  
  
</h3>
    
<h4 id="test_output_mode">
  
  
    <a href="#test_output_mode" class="anchor-heading" aria-labelledby="test_output_mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_output_mode()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetOutputMode()</code> ‚Äì push-pull and open-drain per port and both ports.</p>

<p><strong>Auto-skip</strong>: Returns <code class="language-plaintext highlighter-rouge">true</code> with skip message on PCA9555.</p><hr />
<h3 id="7-polarity-tests">
  
  
    <a href="#7-polarity-tests" class="anchor-heading" aria-labelledby="7-polarity-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7. Polarity Tests
  
  
</h3>
    
<h4 id="test_polarity_inversion">
  
  
    <a href="#test_polarity_inversion" class="anchor-heading" aria-labelledby="test_polarity_inversion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_polarity_inversion()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetPinPolarity()</code>, <code class="language-plaintext highlighter-rouge">SetMultiplePolarities()</code> ‚Äì normal and inverted polarity, single pin and mask-based.</p><hr />
<h3 id="8-input-latch-tests-pcal9555a-only">
  
  
    <a href="#8-input-latch-tests-pcal9555a-only" class="anchor-heading" aria-labelledby="8-input-latch-tests-pcal9555a-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8. Input Latch Tests (PCAL9555A only)
  
  
</h3>
    
<h4 id="test_input_latch">
  
  
    <a href="#test_input_latch" class="anchor-heading" aria-labelledby="test_input_latch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_input_latch()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">EnableInputLatch()</code>, <code class="language-plaintext highlighter-rouge">EnableMultipleInputLatches()</code> ‚Äì per-pin and mask-based latch enable/disable.</p>

<p><strong>Auto-skip</strong>: Returns <code class="language-plaintext highlighter-rouge">true</code> with skip message on PCA9555.</p><hr />
<h3 id="9-interrupt-tests-partially-pcal9555a-only">
  
  
    <a href="#9-interrupt-tests-partially-pcal9555a-only" class="anchor-heading" aria-labelledby="9-interrupt-tests-partially-pcal9555a-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9. Interrupt Tests (partially PCAL9555A only)
  
  
</h3>
    
<h4 id="test_interrupt_mask_config-pcal9555a">
  
  
    <a href="#test_interrupt_mask_config-pcal9555a" class="anchor-heading" aria-labelledby="test_interrupt_mask_config-pcal9555a"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_interrupt_mask_config()</code> (PCAL9555A)
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">ConfigureInterruptMask()</code> ‚Äì 16-bit interrupt mask register.</p>
<h4 id="test_interrupt_status-pcal9555a">
  
  
    <a href="#test_interrupt_status-pcal9555a" class="anchor-heading" aria-labelledby="test_interrupt_status-pcal9555a"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_interrupt_status()</code> (PCAL9555A)
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">GetInterruptStatus()</code> ‚Äì reading and clearing interrupt status.</p>
<h4 id="test_pin_interrupt_callbacks">
  
  
    <a href="#test_pin_interrupt_callbacks" class="anchor-heading" aria-labelledby="test_pin_interrupt_callbacks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_pin_interrupt_callbacks()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">RegisterPinInterrupt()</code>, <code class="language-plaintext highlighter-rouge">SetInterruptCallback()</code> ‚Äì per-pin callbacks with edge detection (Rising, Falling, Both).</p>
<h4 id="test_interrupt_handler_registration">
  
  
    <a href="#test_interrupt_handler_registration" class="anchor-heading" aria-labelledby="test_interrupt_handler_registration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_interrupt_handler_registration()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">RegisterInterruptHandler()</code> ‚Äì hardware INT pin setup. Passes even without INT pin connected.</p>
<h4 id="test_interrupt_callback_unregistration">
  
  
    <a href="#test_interrupt_callback_unregistration" class="anchor-heading" aria-labelledby="test_interrupt_callback_unregistration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_interrupt_callback_unregistration()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">UnregisterPinInterrupt()</code> ‚Äì callback removal and double-unregister safety.</p>
<h4 id="test_interrupt_config-pcal9555a">
  
  
    <a href="#test_interrupt_config-pcal9555a" class="anchor-heading" aria-labelledby="test_interrupt_config-pcal9555a"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_interrupt_config()</code> (PCAL9555A)
  
  
</h4>
    
<p><strong>Tests</strong>: Combined interrupt mask + status reading.</p><hr />
<h3 id="10-port-operation-tests">
  
  
    <a href="#10-port-operation-tests" class="anchor-heading" aria-labelledby="10-port-operation-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10. Port Operation Tests
  
  
</h3>
    
<h4 id="test_port_operations">
  
  
    <a href="#test_port_operations" class="anchor-heading" aria-labelledby="test_port_operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_port_operations()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetMultipleDirections()</code>, <code class="language-plaintext highlighter-rouge">WritePin()</code>, <code class="language-plaintext highlighter-rouge">ReadPin()</code> ‚Äì port 0 as output, port 1 as input, mixed operations.</p><hr />
<h3 id="11-multi-pin-api-tests">
  
  
    <a href="#11-multi-pin-api-tests" class="anchor-heading" aria-labelledby="11-multi-pin-api-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11. Multi-Pin API Tests
  
  
</h3>
    
<h4 id="test_write_pins_multi">
  
  
    <a href="#test_write_pins_multi" class="anchor-heading" aria-labelledby="test_write_pins_multi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_write_pins_multi()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">WritePins()</code> ‚Äì writing multiple pins at once via initializer list.</p>
<h4 id="test_read_pins_multi">
  
  
    <a href="#test_read_pins_multi" class="anchor-heading" aria-labelledby="test_read_pins_multi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_read_pins_multi()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">ReadPins()</code> ‚Äì reading multiple pins at once, verifying result vector.</p>
<h4 id="test_set_directions_multi">
  
  
    <a href="#test_set_directions_multi" class="anchor-heading" aria-labelledby="test_set_directions_multi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_set_directions_multi()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetDirections()</code> ‚Äì mixed input/output per pin via initializer list.</p>
<h4 id="test_set_polarities_multi">
  
  
    <a href="#test_set_polarities_multi" class="anchor-heading" aria-labelledby="test_set_polarities_multi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_set_polarities_multi()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: <code class="language-plaintext highlighter-rouge">SetPolarities()</code> ‚Äì mixed polarity per pin via initializer list.</p><hr />
<h3 id="12-address-management-tests">
  
  
    <a href="#12-address-management-tests" class="anchor-heading" aria-labelledby="12-address-management-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12. Address Management Tests
  
  
</h3>
    
<h4 id="test_address_management">
  
  
    <a href="#test_address_management" class="anchor-heading" aria-labelledby="test_address_management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_address_management()</code>
  
  
</h4>
    
<p><strong>Tests</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">GetAddress()</code>, <code class="language-plaintext highlighter-rouge">GetAddressBits()</code> ‚Äì reading current address</li>
  <li><code class="language-plaintext highlighter-rouge">ChangeAddress(bool, bool, bool)</code> ‚Äì changing address via pin levels</li>
  <li><code class="language-plaintext highlighter-rouge">ChangeAddress(uint8_t)</code> ‚Äì changing address via direct value</li>
  <li>Address-based constructor <code class="language-plaintext highlighter-rouge">PCAL95555(bus, address)</code> ‚Äì creating a temporary driver</li>
</ul>

<p><strong>Note</strong>: Address change to a non-existent device handles NACK gracefully. Original address is always restored.</p><hr />
<h3 id="13-configuration-tests">
  
  
    <a href="#13-configuration-tests" class="anchor-heading" aria-labelledby="13-configuration-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13. Configuration Tests
  
  
</h3>
    
<h4 id="test_config_and_init">
  
  
    <a href="#test_config_and_init" class="anchor-heading" aria-labelledby="test_config_and_init"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_config_and_init()</code>
  
  
</h4>
    
<p><strong>Tests</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">SetRetries()</code> ‚Äì setting 0, 3, and restoring to 1</li>
  <li><code class="language-plaintext highlighter-rouge">EnsureInitialized()</code> ‚Äì on already-initialized and fresh driver instances</li>
</ul><hr />
<h3 id="14-multi-pin-pcal9555a-api-tests-pcal9555a-only">
  
  
    <a href="#14-multi-pin-pcal9555a-api-tests-pcal9555a-only" class="anchor-heading" aria-labelledby="14-multi-pin-pcal9555a-api-tests-pcal9555a-only"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14. Multi-Pin PCAL9555A API Tests (PCAL9555A only)
  
  
</h3>
    
<h4 id="test_multi_pin_pcal_apis">
  
  
    <a href="#test_multi_pin_pcal_apis" class="anchor-heading" aria-labelledby="test_multi_pin_pcal_apis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_multi_pin_pcal_apis()</code>
  
  
</h4>
    
<p><strong>Tests</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">SetPullEnables()</code> ‚Äì multi-pin pull enable via initializer list</li>
  <li><code class="language-plaintext highlighter-rouge">SetPullDirections()</code> ‚Äì multi-pin pull direction via initializer list</li>
  <li><code class="language-plaintext highlighter-rouge">SetDriveStrengths()</code> ‚Äì multi-pin drive strength via initializer list</li>
  <li><code class="language-plaintext highlighter-rouge">ConfigureInterrupt()</code> ‚Äì single-pin interrupt enable/disable</li>
  <li><code class="language-plaintext highlighter-rouge">ConfigureInterrupts()</code> ‚Äì multi-pin interrupt config via initializer list</li>
  <li><code class="language-plaintext highlighter-rouge">EnableInputLatches()</code> ‚Äì multi-pin input latch via initializer list</li>
</ul>

<p><strong>Auto-skip</strong>: Returns <code class="language-plaintext highlighter-rouge">true</code> with skip message on PCA9555.</p><hr />
<h3 id="15-interactive-input-tests-disabled-by-default">
  
  
    <a href="#15-interactive-input-tests-disabled-by-default" class="anchor-heading" aria-labelledby="15-interactive-input-tests-disabled-by-default"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 15. Interactive Input Tests (disabled by default)
  
  
</h3>
    
<h4 id="test_interactive_input">
  
  
    <a href="#test_interactive_input" class="anchor-heading" aria-labelledby="test_interactive_input"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_interactive_input()</code>
  
  
</h4>
    

<p><strong>Requires</strong>: Momentary push-button between PCA9555 pin 0 and GND.</p>

<p><strong>Tests</strong>:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">ReadPin()</code> ‚Äì detecting physical button press</li>
  <li>Pull-up configuration (internal on PCAL9555A, external on PCA9555)</li>
  <li><code class="language-plaintext highlighter-rouge">HandleInterrupt()</code> ‚Äì explicit manual call</li>
</ul>

<p><strong>Behavior</strong>:</p>
<ol>
  <li>Displays a banner explaining hardware requirements</li>
  <li>Configures pin 0 as input with pull-up</li>
  <li>Waits 10 seconds for button press with countdown</li>
  <li>If button detected: verifies press and release</li>
  <li>If no button: logs warning and continues (does not fail)</li>
  <li>Calls <code class="language-plaintext highlighter-rouge">HandleInterrupt()</code> explicitly to verify no crash</li>
</ol>

<p><strong>To enable</strong>: Set <code class="language-plaintext highlighter-rouge">ENABLE_INTERACTIVE_INPUT_TESTS = true</code> in the test file.</p><hr />
<h3 id="16-error-handling-tests">
  
  
    <a href="#16-error-handling-tests" class="anchor-heading" aria-labelledby="16-error-handling-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16. Error Handling Tests
  
  
</h3>
    
<h4 id="test_error_handling">
  
  
    <a href="#test_error_handling" class="anchor-heading" aria-labelledby="test_error_handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_error_handling()</code>
  
  
</h4>
    
<p><strong>Tests</strong>:</p>
<ul>
  <li>Invalid pin (16, 17, 18) for <code class="language-plaintext highlighter-rouge">SetPinDirection()</code>, <code class="language-plaintext highlighter-rouge">ReadPin()</code>, <code class="language-plaintext highlighter-rouge">WritePin()</code>, <code class="language-plaintext highlighter-rouge">TogglePin()</code></li>
  <li><code class="language-plaintext highlighter-rouge">GetErrorFlags()</code> ‚Äì verifying error flags are set</li>
  <li><code class="language-plaintext highlighter-rouge">ClearErrorFlags(mask)</code> ‚Äì selective flag clearing (specific mask vs all)</li>
  <li><code class="language-plaintext highlighter-rouge">Error::UnsupportedFeature</code> ‚Äì calling <code class="language-plaintext highlighter-rouge">SetDriveStrength()</code> on PCA9555</li>
  <li><code class="language-plaintext highlighter-rouge">HandleInterrupt()</code> ‚Äì explicit call on clean state (no crash)</li>
</ul><hr />
<h3 id="17-stress-tests">
  
  
    <a href="#17-stress-tests" class="anchor-heading" aria-labelledby="17-stress-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 17. Stress Tests
  
  
</h3>
    
<h4 id="test_rapid_operations">
  
  
    <a href="#test_rapid_operations" class="anchor-heading" aria-labelledby="test_rapid_operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <code class="language-plaintext highlighter-rouge">test_rapid_operations()</code>
  
  
</h4>
    
<p><strong>Tests</strong>: Rapid <code class="language-plaintext highlighter-rouge">WritePin()</code> toggle (100 cycles at 1ms intervals) to verify I2C stability under load.</p><hr />
<h2 id="test-execution-flow">
  
  
    <a href="#test-execution-flow" class="anchor-heading" aria-labelledby="test-execution-flow"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Execution Flow
  
  
</h2>
    

<ol>
  <li><strong>Initialization Phase</strong>: I2C bus setup, driver creation, chip variant detection</li>
  <li><strong>Core GPIO Tests</strong>: Direction, read/write, toggle</li>
  <li><strong>PCAL9555A Feature Tests</strong>: Pull resistors, drive strength, output mode, input latch, interrupts (auto-skip on PCA9555)</li>
  <li><strong>Advanced API Tests</strong>: Multi-pin operations, address management, configuration</li>
  <li><strong>Robustness Tests</strong>: Error handling, stress testing</li>
  <li><strong>Cleanup Phase</strong>: Resource cleanup, test summary reporting</li>
</ol><hr />
<h2 id="enablingdisabling-test-sections">
  
  
    <a href="#enablingdisabling-test-sections" class="anchor-heading" aria-labelledby="enablingdisabling-test-sections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Enabling/Disabling Test Sections
  
  
</h2>
    

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_INITIALIZATION_TESTS</span>    <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_GPIO_DIRECTION_TESTS</span>    <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_GPIO_READ_WRITE_TESTS</span>   <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_PULL_RESISTOR_TESTS</span>     <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_DRIVE_STRENGTH_TESTS</span>    <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_OUTPUT_MODE_TESTS</span>       <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_POLARITY_TESTS</span>          <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_INPUT_LATCH_TESTS</span>       <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_INTERRUPT_TESTS</span>         <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_PORT_OPERATION_TESTS</span>    <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_MULTI_PIN_TESTS</span>         <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_MULTI_PIN_API_TESTS</span>     <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_ADDRESS_TESTS</span>           <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_CONFIG_TESTS</span>            <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_MULTI_PIN_PCAL_TESTS</span>    <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_INTERACTIVE_INPUT_TESTS</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">// Requires button on pin 0</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_ERROR_HANDLING_TESTS</span>    <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">bool</span> <span class="n">ENABLE_STRESS_TESTS</span>            <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
</pre></td></tr></tbody></table></div></code></pre></div></div><hr />
<h2 id="test-results-interpretation">
  
  
    <a href="#test-results-interpretation" class="anchor-heading" aria-labelledby="test-results-interpretation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Results Interpretation
  
  
</h2>
    
<h3 id="success-indicators">
  
  
    <a href="#success-indicators" class="anchor-heading" aria-labelledby="success-indicators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Success Indicators
  
  
</h3>
    
<ul>
  <li><code class="language-plaintext highlighter-rouge">[SUCCESS] PASSED</code> ‚Äì test passed</li>
  <li><code class="language-plaintext highlighter-rouge">Skipping: ... requires PCAL9555A (detected PCA9555)</code> ‚Äì expected skip, counts as pass</li>
</ul>
<h3 id="warning-indicators">
  
  
    <a href="#warning-indicators" class="anchor-heading" aria-labelledby="warning-indicators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Warning Indicators
  
  
</h3>
    
<ul>
  <li><code class="language-plaintext highlighter-rouge">Driver has error flags: 0xNNNN</code> ‚Äì I2C errors during init (may be expected on PCA9555)</li>
  <li><code class="language-plaintext highlighter-rouge">No button press detected within 10 seconds</code> ‚Äì interactive test timeout (OK)</li>
</ul>
<h3 id="failure-indicators">
  
  
    <a href="#failure-indicators" class="anchor-heading" aria-labelledby="failure-indicators"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Failure Indicators
  
  
</h3>
    
<ul>
  <li><code class="language-plaintext highlighter-rouge">[FAILED] FAILED</code> ‚Äì test failed, check error messages above it</li>
  <li><code class="language-plaintext highlighter-rouge">Error flags: 0xNNNN</code> ‚Äì see Error Flags table below</li>
</ul>
<h3 id="error-flags-reference">
  
  
    <a href="#error-flags-reference" class="anchor-heading" aria-labelledby="error-flags-reference"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Flags Reference
  
  
</h3>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Flag</th>
      <th>Value</th>
      <th>Meaning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InvalidPin</code></td>
      <td>0x0001</td>
      <td>Pin index &gt;= 16</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">InvalidMask</code></td>
      <td>0x0002</td>
      <td>Mask bits outside valid range</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">I2CReadFail</code></td>
      <td>0x0004</td>
      <td>I2C read transaction failed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">I2CWriteFail</code></td>
      <td>0x0008</td>
      <td>I2C write transaction failed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">UnsupportedFeature</code></td>
      <td>0x0010</td>
      <td>PCAL9555A feature called on PCA9555</td>
    </tr>
  </tbody>
</table></div><hr />
<h2 id="hardware-requirements">
  
  
    <a href="#hardware-requirements" class="anchor-heading" aria-labelledby="hardware-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware Requirements
  
  
</h2>
    
<h3 id="minimum">
  
  
    <a href="#minimum" class="anchor-heading" aria-labelledby="minimum"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Minimum
  
  
</h3>
    
<ul>
  <li>PCA9555 or PCAL9555A I/O expander</li>
  <li>ESP32-S3 development board</li>
  <li>I2C connections (SDA, SCL) with 4.7k pull-ups</li>
  <li>Power connections (3.3V, GND)</li>
</ul>
<h3 id="for-full-test-coverage">
  
  
    <a href="#for-full-test-coverage" class="anchor-heading" aria-labelledby="for-full-test-coverage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> For Full Test Coverage
  
  
</h3>
    
<ul>
  <li>Address pins connected to GPIOs (A0=GPIO45, A1=GPIO48, A2=GPIO47)</li>
  <li>INT pin connected to GPIO7 (for interrupt handler test)</li>
  <li>LED on GPIO14 (test progress indicator)</li>
</ul>
<h3 id="for-interactive-input-test">
  
  
    <a href="#for-interactive-input-test" class="anchor-heading" aria-labelledby="for-interactive-input-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> For Interactive Input Test
  
  
</h3>
    
<ul>
  <li>Momentary push-button between pin 0 and GND</li>
  <li>10k pull-up to VDD (PCA9555) or use internal pull-up (PCAL9555A)</li>
</ul><hr />
<h2 id="expected-test-count">
  
  
    <a href="#expected-test-count" class="anchor-heading" aria-labelledby="expected-test-count"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Expected Test Count
  
  
</h2>
    

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>Chip Variant</th>
      <th>Enabled Sections</th>
      <th>Expected Tests</th>
      <th>Expected Pass</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PCA9555</td>
      <td>All (default)</td>
      <td>~31</td>
      <td>31 (PCAL tests skip as pass)</td>
    </tr>
    <tr>
      <td>PCAL9555A</td>
      <td>All (default)</td>
      <td>~31</td>
      <td>31</td>
    </tr>
    <tr>
      <td>Either + Interactive</td>
      <td>All + Interactive</td>
      <td>~32</td>
      <td>32</td>
    </tr>
  </tbody>
</table></div><hr />

<p><strong>Navigation</strong>
<a href="/hf-pcal95555-driver/development/examples/esp32/">Back to Examples README</a> | <a href="/hf-pcal95555-driver/development/">Main README</a></p>

          

          
            
          
        </main>
        
<hr>
<footer>
  

  <!-- =============================================================================
     Custom Footer Content for HardFOC Driver Documentation
     =============================================================================
     This footer is displayed at the bottom of every page.
     ============================================================================= -->

<footer class="site-footer">
  <div class="site-footer-credits">
    <p>Built with ‚ù§Ô∏è using <a href="https://just-the-docs.github.io/just-the-docs/">Just the Docs</a></p>
    <p>
      <a href="https://github.com/n3b3x/hf-pcal95555-driver/development/blob/main/LICENSE">GPL v3 License</a> ‚Ä¢ 
      <a href="https://github.com/n3b3x/hf-pcal95555-driver/development">View on GitHub</a>
    </p>
  </div>
</footer>



  <div class="d-md-none mt-4 fs-2">
    
    
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    
  </div>
</footer>

      </div>
    </div>
    
      
<button id="search-button" class="search-button btn-reset" aria-label="Focus on search">
  <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg>
</button>


<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

